import{o as a,d as u,e as s,n as h,h as q,t as f,g as _,R as p,b as y,u as k,c as b,F as g,i as x,f as C,w,s as N}from"./vendor.20d4d45b.js";import{_ as m,A as c,u as Q}from"./index.2a1fb1ab.js";const v=Q(),B={props:{quiz:{type:Object,required:!0},onremove:{type:Function,required:!0},onedit:{type:Function,required:!0}},setup(e){async function i(){try{await c.publishQuiz(e.quiz),e.quiz.published=!0}catch(r){v("error",r.message)}}async function d(){try{await c.unpublishQuiz(e.quiz),e.quiz.published=!1}catch(r){v("error",r.message)}}function t(){e.onremove(e.quiz)}function o(){e.onedit(e.quiz)}return{quiz:e.quiz,publish:i,unpublish:d,remove:t,edit:o}}},F={class:"card mb-2"},I={class:"card-body"},V={class:"card-text d-flex align-items-center"},j={class:"me-auto"};function A(e,i,d,t,o,r){return a(),u("div",F,[s("div",I,[s("div",V,[s("b",j,[s("span",{class:h(["me-1 status",t.quiz.published?"status-published":"status-unpublished"])},null,2),q(" "+f(t.quiz.label),1)]),t.quiz.published?_("",!0):(a(),u("button",{key:0,class:"btn btn-success me-2",onClick:i[0]||(i[0]=(...n)=>t.publish&&t.publish(...n))},"Publish")),t.quiz.published?(a(),u("button",{key:1,class:"btn btn-warning me-2",onClick:i[1]||(i[1]=(...n)=>t.unpublish&&t.unpublish(...n))},"Unpublish")):_("",!0),s("button",{class:"btn btn-info me-2",onClick:i[2]||(i[2]=(...n)=>t.edit&&t.edit(...n))},"Edit"),s("button",{class:"btn btn-danger",onClick:i[3]||(i[3]=(...n)=>t.remove&&t.remove(...n))},"Delete")])])])}var R=m(B,[["render",A]]);const D={components:{RouterLink:p,AppQuizItem:R},setup(){const e=y([]),i=k();return{quizzes:e,remove:o=>{e.value=e.value.filter(r=>r.id!==o.id),c.removeQuiz(o)},edit:o=>{i.push(`/edit-quiz/${o.id}`)}}},created(){c.getQuizzes().then(e=>{this.quizzes.value=e}).catch(e=>{e.value=e.message})}},E={class:"row"},L={class:"col-12 col-sm-8 order-2 order-sm-1 mb-2"},P={class:"card"},M={class:"card-body"},O=s("div",{class:"card-title"},"Manage quizzes",-1),S={class:"col-12 col-sm-4 order-1 order-sm-2 mb-2"},T={class:"card"},U={class:"card-body"},G=s("button",{class:"btn btn-success"},"Create a new quiz",-1);function H(e,i,d,t,o,r){const n=b("app-quiz-item"),z=b("router-link");return a(),u("div",E,[s("div",L,[s("div",P,[s("div",M,[O,(a(!0),u(g,null,x(t.quizzes.value,l=>(a(),N(n,{key:l.id,quiz:l,onedit:t.edit,onremove:t.remove},null,8,["quiz","onedit","onremove"]))),128))])])]),s("div",S,[s("div",T,[s("div",U,[C(z,{to:"/new-quiz"},{default:w(()=>[G]),_:1})])])])])}var W=m(D,[["render",H]]);export{W as default};
